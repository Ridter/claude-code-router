version: "3.8"

services:
  claude-code-router:
    build: .
    ports:
      - "3456:3456"
    volumes:
      # 挂载配置文件目录（使用本地 ccr_config 目录）
      - ./ccr_config:/root/.claude-code-router
    environment:
      # 设置为非交互模式
      - NON_INTERACTIVE_MODE=true
      # 可选：设置代理
      # - HTTPS_PROXY=http://host.docker.internal:7890
    restart: unless-stopped
    # 如果需要访问宿主机网络（例如访问本地 Ollama）
    # network_mode: "host"
